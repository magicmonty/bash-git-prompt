######################################################################################
# This theme for gitprompt.sh is created for the dark and light color schemes as well.
# Base colors of the theme can be black or white, it depends on which color needed.
# The user, hostname, time and current path text are using the terminal text color.
# Git branch state part is using similar colors like git (red, green).
# Also configurable to display user@hostname/time, last command state and additional
# icons before content.
# Powerline and/or Nerd fonts are needed to display icons.
#
# By default the prompt base color is black. You can use white color with
# GIT_PROMPT_BLACK_OR_WHITE_THEME_PS1_COLOR=white
#
# By default the prompt display the user and hostname, but you can choose to
# display time instead with
# GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_TIME_INSTEAD_OF_USER=1
#
# By default the last command state is disabled. You can switch on with
# GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_LAST_COMMAND_STATE=1
#
# By default to display the powerline icon is disabled. You can switch on with
# GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_POWERLINE_ICON=1
#
# By default to display the nerd fonts icons are disabled. You can switch on with
# GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_NERD_FONTS_ICONS=1
#
# Example usage:
# if [ -f "$HOME/.bash-git-prompt/gitprompt.sh" ]; then
#   GIT_PROMPT_THEME=BlackOrWhite
#   GIT_PROMPT_BLACK_OR_WHITE_THEME_PS1_COLOR=white
#   GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_TIME_INSTEAD_OF_USER=1
#   GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_LAST_COMMAND_STATE=1
#   GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_POWERLINE_ICON=1
#   GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_NERD_FONTS_ICONS=1
#   source $HOME/.bash-git-prompt/gitprompt.sh
# fi
#
# Samples:
#
# Display user and hostname
# ┌─(user@hostname)──(~)
# └─•
#
# Display time instead of user and hostname
# ┌─(10:58:58)──(~)
# └─•
#
# Display root user prompt
# ┌─(11:08:06)──(/home/root)
# └─!
#
# Display git branch without or with the powerline icon
# ┌─(10:59:31)──(~/.bash-git-prompt)──(master|✔)
# └─•
#
# ┌─(10:59:31)──(~/.bash-git-prompt)──( master|✔)
# └─•
#
# Display git branch with upstream
# ┌─(user@hostname)──(~/.bash-git-prompt)──( master {origin/master}|…1)
# └─•
#
# Display last command state
# ┌─(user@hostname)──(~/.bash-git-prompt)──(>_ ✔)──( master|…1)
# └─•
#
# Display nerd fonts icons
# ┌─( user)──( hostname)──( ~/.bash-git-prompt)──(  )──( master| 2)
# └─•
#
# ┌─( 11:45:19)──( ~/.bash-git-prompt)──(  )──( master| 2)
# └─•
#
######################################################################################
override_git_prompt_colors() {
  GIT_PROMPT_THEME_NAME="BlackOrWhite"

  local PathShort="\w"
  local PS1Color="${BoldBlack}"

  case $GIT_PROMPT_BLACK_OR_WHITE_THEME_PS1_COLOR in
    black)
      PS1Color="${BoldBlack}"
      ;;
    white)
      PS1Color="${BoldWhite}"
      ;;
  esac

  local FirstBubbleContent="\u${PS1Color}@${ResetColor}\h"
  local CommandStateBubbleContent=""
  local PathBubbleContent=""

  local UserIcon=""
  local ComputerIcon=""
  local ClockIcon=""
  local CommandPromptIcon=">_ "
  local FolderIcon=""
  local BranchIcon=""
  local StagedIcon="•"
  local ConflictsIcon="x"
  local ChangedIcon="+"
  local RemoteIcon=" "
  local UntrackedIcon="…"
  local StashedIcon="⚑ "
  local CleanIcon="✔"
  local CommandOkIcon="✔"
  local CommandFailIcon="✘"
  local AheadIcon="↑·"
  local BehindIcon="↓·"
  local PrehashIcon=":"
  local NoRemoteTrackingIcon="L"

  if [[ "${GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_NERD_FONTS_ICONS}" == "1" ]]; then
    UserIcon=" "
    ComputerIcon=" "
    ClockIcon=" "
    CommandPromptIcon=" "
    FolderIcon=" "
    BranchIcon=" "
    StagedIcon=" "
    ConflictsIcon="ﴜ "
    ChangedIcon=" "
    UntrackedIcon=" "
    StashedIcon=" "
    CleanIcon=" "
    CommandOkIcon=" "
    CommandFailIcon=" "
    AheadIcon=" "
    BehindIcon=" "
    NoRemoteTrackingIcon=" "
  fi

  if [[ "${GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_POWERLINE_ICON}" == "1" ]]; then
    BranchIcon=" "
  fi

  if [[ "${GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_TIME_INSTEAD_OF_USER}" == "1" ]]; then
    FirstBubbleContent="${ClockIcon}\t"
  elif [[ "${GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_NERD_FONTS_ICONS}" == "1" ]]; then
    FirstBubbleContent="${UserIcon}\u${PS1Color})──(${ResetColor}${ComputerIcon}\h"
  fi

  PathBubbleContent="${FolderIcon}${PathShort}"

  if [[ "${GIT_PROMPT_BLACK_OR_WHITE_THEME_SHOW_LAST_COMMAND_STATE}" == "1" ]]; then
    CommandStateBubbleContent=")──(${ResetColor}${CommandPromptIcon}_LAST_COMMAND_INDICATOR_${PS1Color}"
  fi

  GIT_PROMPT_LEADING_SPACE=0

  GIT_PROMPT_PREFIX="${PS1Color}──(${ResetColor}${BranchIcon}"
  GIT_PROMPT_SUFFIX="${PS1Color})${ResetColor}"
  # GIT_PROMPT_SEPARATOR="|"

  GIT_PROMPT_BRANCH="${PS1Color}"
  GIT_PROMPT_MASTER_BRANCH="${GIT_PROMPT_BRANCH}"
  GIT_PROMPT_STAGED="${BoldGreen}${StagedIcon}"
  GIT_PROMPT_CONFLICTS="${BoldRed}${ConflictsIcon}"
  GIT_PROMPT_CHANGED="${BoldRed}${ChangedIcon}"

  GIT_PROMPT_REMOTE="${RemoteIcon}"
  GIT_PROMPT_UNTRACKED="${PS1Color}${UntrackedIcon}"
  GIT_PROMPT_STASHED="${PS1Color}${StashedIcon}"
  GIT_PROMPT_CLEAN="${BoldGreen}${CleanIcon}"

  GIT_PROMPT_COMMAND_OK="${Green}${CommandOkIcon}"
  GIT_PROMPT_COMMAND_FAIL="${Red}${CommandFailIcon}-_LAST_COMMAND_STATE_"

  GIT_PROMPT_SYMBOLS_AHEAD="${AheadIcon}"
  GIT_PROMPT_SYMBOLS_BEHIND="${BehindIcon}"
  GIT_PROMPT_SYMBOLS_PREHASH="${PrehashIcon}"
  GIT_PROMPT_SYMBOLS_NO_REMOTE_TRACKING="${NoRemoteTrackingIcon}"

  GIT_PROMPT_VIRTUALENV="[${PS1Color}_VIRTUALENV_${ResetColor}] "

  GIT_PROMPT_UPSTREAM=" {${PS1Color}_UPSTREAM_${ResetColor}}"

  GIT_PROMPT_START_USER="\n${PS1Color}┌─(${ResetColor}${FirstBubbleContent}${PS1Color})──(${ResetColor}${PathBubbleContent}${PS1Color}${CommandStateBubbleContent})${ResetColor}"
  GIT_PROMPT_START_ROOT="${GIT_PROMPT_START_USER}"
  GIT_PROMPT_END_USER="\n${PS1Color}└─•${ResetColor} "
  GIT_PROMPT_END_ROOT="\n${PS1Color}└─!${ResetColor} "
}

reload_git_prompt_colors "BlackOrWhite"
